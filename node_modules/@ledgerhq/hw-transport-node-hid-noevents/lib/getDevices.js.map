{"version":3,"sources":["../src/getDevices.js"],"names":["getDevices","filterInterface","includes","process","platform","device","usagePage","interface","devices","filter"],"mappings":";;;;;kBAUwBA,U;;AATxB;;;;AACA;;;;AAEA,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,SACtB,CAAC,OAAD,EAAU,QAAV,EAAoBC,QAApB,CAA6BC,QAAQC,QAArC,IACI;AACAC,SAAOC,SAAP,KAAqB,MAFzB,GAGID,OAAOE,SAAP,KAAqB,CAJH;AAAA,CAAxB;;AAMe,SAASP,UAAT,GAAgC;AAC7C;AACA,SAAO,kBAAIQ,OAAJ,6BAA+B,GAA/B,EAAoCC,MAApC,CAA2CR,eAA3C,CAAP;AACD","file":"getDevices.js","sourcesContent":["// @flow\nimport HID from \"node-hid\";\nimport { ledgerUSBVendorId } from \"@ledgerhq/devices\";\n\nconst filterInterface = device =>\n  [\"win32\", \"darwin\"].includes(process.platform)\n    ? // $FlowFixMe bug in HID flow def\n      device.usagePage === 0xffa0\n    : device.interface === 0;\n\nexport default function getDevices(): Array<*> {\n  // $FlowFixMe bug in HID flow def\n  return HID.devices(ledgerUSBVendorId, 0x0).filter(filterInterface);\n}\n"]}